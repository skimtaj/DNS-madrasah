<!DOCTYPE html>
<html lang="en">

<%- include('admin_sidebar')%>

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Student Profile | DNS Madrasah</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

        <style>
            :root {
                --pos-primary: #54A651;
                --pos-dark: #2c3e50;
                --pos-light: #f8f9fa;
            }

            body {
                background-color: var(--pos-light);
                font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
                color: var(--pos-dark);
                margin: 0;
                padding: 0;
                font-size: 0.9rem;
            }

            .main-content {
                margin-left: 280px;
                padding: 15px;
                margin-top: 80px;
                margin-bottom: 30px;
            }

            .pos-card {
                background-color: white;
                border-radius: 10px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 20px 30px;
                width: 100%;
                max-width: 1075px;
                margin: 0 auto;
            }

            h5 {
                color: white;
                background: rgb(12, 138, 65);
                padding: 12px 18px;
                border-radius: 10px;
                width: 100%;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
                font-size: 1.1rem;
            }

            .pos-btn-primary {
                background-color: rgb(12, 138, 65);
                border: none;
                padding: 8px 16px;
                border-radius: 6px;
                color: white;
                font-weight: 500;
                transition: all 0.2s;
                font-size: 0.9rem;
            }

            .pos-btn-primary:hover {
                background-color: white;
                color: var(--pos-primary);
                transform: translateY(-1px);
                box-shadow: 0 4px 8px rgba(0, 105, 92, 0.25);
            }

            .btn-outline-secondary {
                border-color: #6c757d;
                color: #6c757d;
            }

            .btn-outline-secondary:hover {
                background-color: #6c757d;
                color: white;
            }

            .profile-header {
                display: flex;
                align-items: center;
                margin-bottom: 25px;
                padding-bottom: 15px;
                border-bottom: 1px solid #eee;
            }

            .profile-pic {
                width: 120px;
                height: 120px;
                border-radius: 50%;
                object-fit: cover;
                border: 4px solid var(--pos-primary);
                margin-right: 25px;
            }

            .profile-info h4 {
                margin-bottom: 5px;
                color: var(--pos-dark);
            }

            .profile-info p {
                margin-bottom: 3px;
                color: #666;
            }

            .info-section {
                margin-bottom: 25px;
            }

            .info-section h6 {
                color: var(--pos-primary);
                border-bottom: 1px solid #eee;
                padding-bottom: 8px;
                margin-bottom: 15px;
                font-weight: 600;
            }

            .info-row {
                display: flex;
                margin-bottom: 10px;
            }

            .info-label {
                flex: 0 0 40%;
                font-weight: 600;
                color: #555;
            }

            .info-value {
                flex: 0 0 60%;
                color: #333;
            }

            .status-badge {
                display: inline-block;
                padding: 4px 10px;
                border-radius: 20px;
                font-size: 0.8rem;
                font-weight: 600;
            }

            .status-active {
                background-color: #e8f5e9;
                color: #2e7d32;
            }

            .status-pending {
                background-color: #fff3e0;
                color: #ef6c00;
            }

            .status-submitted {
                background-color: #e3f2fd;
                color: #1565c0;
            }

            .download-btn {
                background-color: #f8f9fa;
                border: 1px solid #dee2e6;
                color: #495057;
                padding: 4px 8px;
                border-radius: 4px;
                font-size: 0.8rem;
                text-decoration: none;
                display: inline-flex;
                align-items: center;
                margin-left: 8px;
            }

            .download-btn:hover {
                background-color: #e9ecef;
                color: #495057;
                text-decoration: none;
            }

            /* Mobile adjustments */
            @media (max-width: 768px) {
                .main-content {
                    margin-left: 0;
                    padding: 10px;
                }

                .pos-card {
                    padding: 15px;
                    margin-left: 0;
                }

                .pos-card h5 {
                    font-size: 1rem;
                }

                .pos-card h6 {
                    font-size: 0.75rem;
                }

                .profile-header {
                    flex-direction: column;
                    text-align: center;
                }

                .profile-pic {
                    margin-right: 0;
                    margin-bottom: 15px;
                    width: 100px;
                    height: 100px;
                }

                .info-row {
                    flex-direction: row;
                    margin-bottom: 8px;
                }

                .info-label {
                    flex: 0 0 50%;
                    margin-bottom: 0;
                    font-size: 0.8rem;
                }

                .info-value {
                    flex: 0 0 50%;
                    font-size: 0.85rem;
                }

                .pos-btn-primary,
                .btn {
                    font-size: 0.85rem;
                    padding: 6px 12px;
                }

                .mobile-side-by-side .row>div {
                    margin-bottom: 10px;
                }
            }

            @media (max-width: 576px) {
                .pos-card {
                    padding: 15px;
                    width: 100%;
                    margin: auto;
                    margin-bottom: 30px;
                }

                .profile-pic {
                    width: 80px;
                    height: 80px;
                }

                .profile-info h4 {
                    font-size: 1.1rem;
                }

                .profile-info p {
                    font-size: 0.85rem;
                }

                .info-section {
                    margin-bottom: 15px;
                }

                .info-section h6 {
                    font-size: 0.8rem;
                }

                .info-label,
                .info-value {
                    font-size: 0.75rem;
                }
            }
        </style>
    </head>

    <body>


        <% if ( messages.success) { %>
            <script>
                Swal.fire({
                    toast: true,
                    position: "top-end",
                    icon: "success",
                    title: "<%= messages.success %>",
                    showConfirmButton: false,
                    timer: 3000,
                    timerProgressBar: true,
                    background: "#ffffff",
                    iconColor: "#00b894",
                    color: "#333",
                    customClass: {
                        popup: 'custom-swal-toast'
                    },
                    didOpen: (toast) => {
                        toast.style.boxShadow = '0 4px 12px rgba(0,0,0,0.1)';
                        toast.style.borderRadius = '8px';
                        toast.style.padding = '0.75rem 1.25rem';
                    }
                });
            </script>
            <% } %>

                <% if ( messages.error) { %>
                    <script>
                        Swal.fire({
                            toast: true,
                            position: "top-end",
                            icon: "error",
                            title: "<%= messages.error %>",
                            showConfirmButton: false,
                            timer: 3000,
                            timerProgressBar: true,
                            background: "#ffffff",
                            iconColor: "red",
                            color: "#333",
                            customClass: {
                                popup: 'custom-swal-toast'
                            },
                            didOpen: (toast) => {
                                toast.style.boxShadow = '0 4px 12px rgba(0,0,0,0.1)';
                                toast.style.borderRadius = '8px';
                                toast.style.padding = '0.75rem 1.25rem';
                            }
                        });
                    </script>
                    <% } %>



                        <div class="main-content">
                            <div class="pos-card">
                                <h5 class="mb-4 fw-bold">
                                    <i class="fas fa-user-graduate me-2"></i> Student Profile
                                </h5>

                                <!-- Profile Header -->
                                <div class="profile-header">
                                    <img src="/Uploads/<%=studentSourse.student_image%>" alt="Student Photo"
                                        class="profile-pic">
                                    <div class="profile-info">
                                        <h4>
                                            <%=studentSourse.student_name%>
                                        </h4>
                                        <p><i class="fas fa-id-card me-2"></i> Serial No: <%=studentSourse.serial_no%>
                                        </p>
                                        <p><i class="fas fa-user-tag me-2"></i>Applied Class:
                                            <%=studentSourse.applied_class%>
                                        </p>
                                        <p><i class="fas fa-calendar-alt me-2"></i> Age: <%=studentSourse.age%>
                                        </p>
                                    </div>
                                </div>

                                <!-- Personal Information -->
                                <div class="info-section mobile-side-by-side">
                                    <h6><i class="fas fa-user me-2"></i> Personal Information</h6>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="info-row">
                                                <div class="info-label">Full Name:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.student_name%>
                                                </div>
                                            </div>
                                            <div class="info-row">
                                                <div class="info-label">Date of Birth:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.dob%>
                                                </div>
                                            </div>
                                            <div class="info-row">
                                                <div class="info-label">Age:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.age%>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">

                                            <div class="info-row">
                                                <div class="info-label">Nationality:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.nationality%>
                                                </div>
                                            </div>
                                            <div class="info-row">
                                                <div class="info-label">Bangla Shiksha Portal:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.Bangla_Shiksha_Portal%>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Address Information -->
                                <div class="info-section mobile-side-by-side">
                                    <h6><i class="fas fa-home me-2"></i> Address Information</h6>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="info-row">
                                                <div class="info-label">Village:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.Village%>
                                                </div>
                                            </div>
                                            <div class="info-row">
                                                <div class="info-label">Post Office:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.post%>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="info-row">
                                                <div class="info-label">Police Station:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.ps%>
                                                </div>
                                            </div>
                                            <div class="info-row">
                                                <div class="info-label">District:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.District%>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="info-row">
                                                <div class="info-label">PIN Code:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.PIN_Code%>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Guardian Information -->
                                <div class="info-section mobile-side-by-side">
                                    <h6><i class="fas fa-users me-2"></i> Guardian Information</h6>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="info-row">
                                                <div class="info-label">Guardian Name:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.Guardian_Name%>
                                                </div>
                                            </div>
                                            <div class="info-row">
                                                <div class="info-label">Relation with Student:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.Relation_with_Student%>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="info-row">
                                                <div class="info-label">Occupation:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.occupation%>
                                                </div>
                                            </div>
                                            <div class="info-row">
                                                <div class="info-label">Aadhaar Number:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.Aadhaar_Number%>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="info-row">
                                                <div class="info-label">Mobile No:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.Mobile_No%>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="info-row">
                                                <div class="info-label">WhatsApp No:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.WhatsApp_No%>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Document Information -->


                                <!-- Fee Information -->
                                <div class="info-section mobile-side-by-side">
                                    <h6><i class="fas fa-money-bill-wave me-2"></i> Fee Information</h6>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="info-row">
                                                <div class="info-label">Registration Fee:</div>
                                                <div class="info-value">
                                                    <%=studentSourse.regi_fees%>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="col-md-3">
                                            <div class="info-row">
                                                <div class="info-label"> Mood :</div>
                                                <div class="info-value" id="admissionMode">
                                                    <%=studentSourse.admission_mode%>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-6" style="display : none" id="Payment_Screenshort">
                                            <div class="info-row">
                                                <div class="info-label">Payment Screenshort:</div>
                                                <a href="/download-payment-ss/<%=studentSourse._id%>"
                                                    class="download-btn">
                                                    <i class="fas fa-download me-1"></i> Download
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Action Buttons -->
                                <div class="mt-4 pt-3 border-top">
                                    <div class="d-flex justify-content-between">
                                        <div>
                                            <a href="/dnsmadrasah.org/dns-admin/edit-student/<%=studentSourse._id%>"
                                                class="btn pos-btn-primary me-2">
                                                <i class="fas fa-edit me-2"></i> Edit Profile
                                                </button>
                                                <a href="/dnsmadrasah.org/dns-admin/student-list"
                                                    class="btn btn-outline-secondary">
                                                    <i class="fa-solid fa-building-columns"></i>
                                                    Back
                                                </a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>

                        <script
                            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </body>

    <script>

        window.onload = () => {

            const admissionMode = document.getElementById('admissionMode');

            if (admissionMode.textContent.trim() === 'Online') {

                document.getElementById('Payment_Screenshort').style.display = 'block'

            }

        }


    </script>

</html>